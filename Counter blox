-- CuTins Heck HUB 2025 - FPS ENHANCED
-- GI·ªÆ NGUY√äN GUI C≈® + TH√äM T√çNH NƒÇNG FPS

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local Mouse = LocalPlayer:GetMouse()

-- HUB CONFIGURATION (GI·ªÆ NGUY√äN)
local CuTins = {
    ACTIVE = true,
    VERSION = "CuTins Heck 2025",
    UI_OPEN = true,
    MINIMIZED = false,
    
    -- MODULES (GI·ªÆ NGUY√äN)
    AIMBOT = {
        ENABLED = false,
        MOUSE_BUTTON = Enum.UserInputType.MouseButton1,
        FOV = 80,
        SMOOTHING = 0.3,
        TARGET_BONE = "Head",
        TEAM_CHECK = true,
        HEADSHOT_PRIORITY = true,
        -- TH√äM T√çNH NƒÇNG FPS
        TRIGGERBOT = false,
        TRIGGER_DELAY = 0.1,
        VISIBLE_CHECK = true
    },
    
    ESP = {
        ENABLED = false,
        TEAM_CHECK = true,
        BOX = true,
        NAMES = true,
        HEALTH = true,
        DISTANCE = true,
        -- TH√äM T√çNH NƒÇNG FPS
        WEAPON = true,
        TRACERS = false
    },
    
    HITBOX = {
        ENABLED = false,
        SIZE = 2.0
    },
    
    FLY = {
        ENABLED = false,
        SPEED = 3
    },
    
    -- TH√äM MODULE M·ªöI CHO FPS
    WEAPON = {
        NO_RECOIL = false,
        NO_SPREAD = false,
        RAPID_FIRE = false,
        INSTANT_RELOAD = false,
        INFINITE_AMMO = false
    },
    
    VISUAL = {
        BRIGHT_MAP = false,
        CROSSHAIR = false,
        NO_FOG = false
    },
    
    MOVEMENT = {
        SPEED = false,
        SPEED_VALUE = 30,
        JUMP = false,
        JUMP_VALUE = 75,
        BUNNY_HOP = false
    }
}

-- HUB VARIABLES (GI·ªÆ NGUY√äN)
local TARGET = nil
local ESP_ITEMS = {}
local FLYING = false
local BODYGYRO, BODYVELOCITY = nil, nil
local SCREEN_GUI = nil
local MAIN_FRAME = nil

-- BI·∫æN M·ªöI CHO T√çNH NƒÇNG FPS
local TRIGGERBOT_ACTIVE = false
local BUNNYHOP_CONNECTION = nil
local CROSSHAIR_GUI = nil
local WEAPON_HOOKS_ACTIVE = false

-- ‚úÖ CREATE CUSTOM HUB INTERFACE (GI·ªÆ NGUY√äN)
function createHubInterface()
    -- ... (GI·ªÆ NGUY√äN TO√ÄN B·ªò CODE GUI C≈®) ...
    -- Code GUI g·ªëc gi·ªØ nguy√™n ho√†n to√†n
    -- Ch·ªâ th√™m c√°c section m·ªõi v√†o cu·ªëi
    
    -- SAU PH·∫¶N "MOVEMENT SECTION" C≈®, TH√äM:

    -- WEAPON SECTION (M·ªöI)
    createSection("üî´ WEAPON MODS", ScrollingFrame)
    createToggle("No Recoil", CuTins.WEAPON.NO_RECOIL, function(value)
        CuTins.WEAPON.NO_RECOIL = value
        updateStatus()
        setupWeaponHooks()
    end, ScrollingFrame)
    createToggle("No Spread", CuTins.WEAPON.NO_SPREAD, function(value)
        CuTins.WEAPON.NO_SPREAD = value
        updateStatus()
        setupWeaponHooks()
    end, ScrollingFrame)
    createToggle("Rapid Fire", CuTins.WEAPON.RAPID_FIRE, function(value)
        CuTins.WEAPON.RAPID_FIRE = value
        updateStatus()
    end, ScrollingFrame)
    createToggle("Instant Reload", CuTins.WEAPON.INSTANT_RELOAD, function(value)
        CuTins.WEAPON.INSTANT_RELOAD = value
        updateStatus()
    end, ScrollingFrame)
    createToggle("Infinite Ammo", CuTins.WEAPON.INFINITE_AMMO, function(value)
        CuTins.WEAPON.INFINITE_AMMO = value
        updateStatus()
    end, ScrollingFrame)

    -- VISUAL ENHANCEMENT SECTION (M·ªöI)
    createSection("üëÅÔ∏è VISUAL ENHANCE", ScrollingFrame)
    createToggle("Bright Map", CuTins.VISUAL.BRIGHT_MAP, function(value)
        CuTins.VISUAL.BRIGHT_MAP = value
        updateStatus()
        updateVisuals()
    end, ScrollingFrame)
    createToggle("Custom Crosshair", CuTins.VISUAL.CROSSHAIR, function(value)
        CuTins.VISUAL.CROSSHAIR = value
        updateStatus()
        toggleCrosshair()
    end, ScrollingFrame)
    createToggle("No Fog", CuTins.VISUAL.NO_FOG, function(value)
        CuTins.VISUAL.NO_FOG = value
        updateStatus()
        updateVisuals()
    end, ScrollingFrame)

    -- MOVEMENT ENHANCE SECTION (M·ªöI)
    createSection("üí® MOVEMENT PLUS", ScrollingFrame)
    createToggle("Speed Hack", CuTins.MOVEMENT.SPEED, function(value)
        CuTins.MOVEMENT.SPEED = value
        updateStatus()
    end, ScrollingFrame)
    createSlider("Speed Value", CuTins.MOVEMENT.SPEED_VALUE, 16, 100, function(value)
        CuTins.MOVEMENT.SPEED_VALUE = value
        updateStatus()
    end, ScrollingFrame)
    createToggle("High Jump", CuTins.MOVEMENT.JUMP, function(value)
        CuTins.MOVEMENT.JUMP = value
        updateStatus()
    end, ScrollingFrame)
    createSlider("Jump Power", CuTins.MOVEMENT.JUMP_VALUE, 50, 200, function(value)
        CuTins.MOVEMENT.JUMP_VALUE = value
        updateStatus()
    end, ScrollingFrame)
    createToggle("Bunny Hop", CuTins.MOVEMENT.BUNNY_HOP, function(value)
        CuTins.MOVEMENT.BUNNY_HOP = value
        updateStatus()
        toggleBunnyHop()
    end, ScrollingFrame)

    -- TH√äM V√ÄO STATUS SECTION C≈®
    local WeaponLabel = createStatusText("Weapon Mods: OFF", ScrollingFrame)
    local VisualLabel = createStatusText("Visual Enhance: OFF", ScrollingFrame)
    
    -- Store new status labels
    CuTins.StatusLabels.Weapon = WeaponLabel
    CuTins.StatusLabels.Visual = VisualLabel

    return SCREEN_GUI
end

-- ‚úÖ TH√äM C√ÅC H√ÄM M·ªöI CHO T√çNH NƒÇNG FPS

-- WEAPON MODIFICATIONS
function setupWeaponHooks()
    if WEAPON_HOOKS_ACTIVE and not (CuTins.WEAPON.NO_RECOIL or CuTins.WEAPON.NO_SPREAD) then
        return
    end
    
    WEAPON_HOOKS_ACTIVE = true
    
    local mt = getrawmetatable(game)
    local oldIndex = mt.__index
    
    setreadonly(mt, false)
    mt.__index = newcclosure(function(t, k)
        if not checkcaller() then
            if CuTins.WEAPON.NO_RECOIL and string.lower(tostring(k)):find("recoil") then
                return 0
            end
            if CuTins.WEAPON.NO_SPREAD and string.lower(tostring(k)):find("spread") then
                return 0
            end
            if CuTins.WEAPON.INFINITE_AMMO and string.lower(tostring(k)):find("ammo") then
                return 999
            end
        end
        return oldIndex(t, k)
    end)
    setreadonly(mt, true)
end

-- RAPID FIRE SYSTEM
function rapidFireSystem()
    if not CuTins.WEAPON.RAPID_FIRE then return end
    
    local tool = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Tool")
    if tool and UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton1) then
        -- Simulate rapid firing
        for i = 1, 3 do
            wait(0.05)
            if tool then
                -- Trigger tool activation multiple times
                tool:Activate()
            end
        end
    end
end

-- INSTANT RELOAD
function instantReload()
    if not CuTins.WEAPON.INSTANT_RELOAD then return end
    
    local character = LocalPlayer.Character
    if not character then return end
    
    local humanoid = character:FindFirstChild("Humanoid")
    if humanoid then
        -- Keep humanoid health high (prevent death from reload animations)
        if humanoid.Health < humanoid.MaxHealth then
            humanoid.Health = humanoid.MaxHealth
        end
    end
end

-- VISUAL ENHANCEMENTS
function updateVisuals()
    -- Bright Map
    if CuTins.VISUAL.BRIGHT_MAP then
        Lighting.Brightness = 5
        Lighting.Ambient = Color3.new(1, 1, 1)
        Lighting.ClockTime = 14
    else
        Lighting.Brightness = 3
        Lighting.Ambient = Color3.new(0.5, 0.5, 0.5)
    end
    
    -- No Fog
    if CuTins.VISUAL.NO_FOG then
        Lighting.FogEnd = 100000
    else
        Lighting.FogEnd = 1000
    end
end

function toggleCrosshair()
    if CROSSHAIR_GUI then
        CROSSHAIR_GUI:Destroy()
        CROSSHAIR_GUI = nil
    end
    
    if CuTins.VISUAL.CROSSHAIR then
        CROSSHAIR_GUI = Instance.new("ScreenGui")
        CROSSHAIR_GUI.Name = "Crosshair"
        CROSSHAIR_GUI.Parent = game:GetService("CoreGui")
        
        local Center = Instance.new("Frame")
        Center.Size = UDim2.new(0, 4, 0, 4)
        Center.Position = UDim2.new(0.5, -2, 0.5, -2)
        Center.BackgroundColor3 = Color3.new(1, 0, 0)
        Center.BorderSizePixel = 0
        Center.Parent = CROSSHAIR_GUI
        
        local Circle = Instance.new("Frame")
        Circle.Size = UDim2.new(0, 12, 0, 12)
        Circle.Position = UDim2.new(0.5, -6, 0.5, -6)
        Circle.BackgroundColor3 = Color3.new(1, 1, 1)
        Circle.BackgroundTransparency = 0.8
        Circle.BorderSizePixel = 0
        local UICorner = Instance.new("UICorner")
        UICorner.CornerRadius = UDim.new(1, 0)
        UICorner.Parent = Circle
        Circle.Parent = CROSSHAIR_GUI
    end
end

-- MOVEMENT ENHANCEMENTS
function toggleBunnyHop()
    if BUNNYHOP_CONNECTION then
        BUNNYHOP_CONNECTION:Disconnect()
        BUNNYHOP_CONNECTION = nil
    end
    
    if CuTins.MOVEMENT.BUNNY_HOP then
        BUNNYHOP_CONNECTION = RunService.Heartbeat:Connect(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                local humanoid = LocalPlayer.Character.Humanoid
                humanoid.Jump = true
            end
        end)
    end
end

-- TRIGGERBOT SYSTEM
function triggerBot()
    if not CuTins.AIMBOT.TRIGGERBOT or not CuTins.AIMBOT.ENABLED then return end
    
    local target = getClosestPlayer()
    if target and target.Character then
        wait(CuTins.AIMBOT.TRIGGER_DELAY)
        mouse1click()
    end
end

-- ENHANCED AIMBOT WITH VISIBLE CHECK
function getClosestPlayer()
    local closest = nil
    local closestDist = CuTins.AIMBOT.FOV
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local char = player.Character
            local humanoid = char:FindFirstChild("Humanoid")
            local head = char:FindFirstChild("Head")
            
            if humanoid and humanoid.Health > 0 and head then
                -- Team check
                if CuTins.AIMBOT.TEAM_CHECK then
                    local localTeam = LocalPlayer.Team
                    local playerTeam = player.Team
                    if localTeam and playerTeam and localTeam == playerTeam then
                        continue
                    end
                end
                
                -- Visible check (new FPS feature)
                if CuTins.AIMBOT.VISIBLE_CHECK then
                    local raycastParams = RaycastParams.new()
                    raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
                    raycastParams.FilterDescendantsInstances = {LocalPlayer.Character, char}
                    
                    local origin = Camera.CFrame.Position
                    local direction = (head.Position - origin).Unit
                    local raycastResult = workspace:Raycast(origin, direction * 1000, raycastParams)
                    
                    if raycastResult and raycastResult.Instance:IsDescendantOf(char) == false then
                        continue -- Not visible, skip
                    end
                end
                
                local screenPos, onScreen = Camera:WorldToViewportPoint(head.Position)
                if onScreen then
                    local mousePos = UserInputService:GetMouseLocation()
                    local distance = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude
                    if distance < closestDist then
                        closestDist = distance
                        closest = player
                    end
                end
            end
        end
    end
    return closest
end

-- ‚úÖ UPDATE STATUS FUNCTION (B·ªî SUNG)
function updateStatus()
    if CuTins.StatusLabels then
        CuTins.StatusLabels.Aimbot.Text = "‚Ä¢ Aimbot: " .. (CuTins.AIMBOT.ENABLED and "ON" or "OFF")
        CuTins.StatusLabels.ESP.Text = "‚Ä¢ ESP: " .. (CuTins.ESP.ENABLED and "ON" or "OFF")
        CuTins.StatusLabels.Players.Text = "‚Ä¢ Players: " .. #Players:GetPlayers()
        
        -- New status labels
        if CuTins.StatusLabels.Weapon then
            local weaponActive = CuTins.WEAPON.NO_RECOIL or CuTins.WEAPON.NO_SPREAD or CuTins.WEAPON.RAPID_FIRE
            CuTins.StatusLabels.Weapon.Text = "‚Ä¢ Weapon Mods: " .. (weaponActive and "ON" or "OFF")
        end
        
        if CuTins.StatusLabels.Visual then
            local visualActive = CuTins.VISUAL.BRIGHT_MAP or CuTins.VISUAL.CROSSHAIR
            CuTins.StatusLabels.Visual.Text = "‚Ä¢ Visual Enhance: " .. (visualActive and "ON" or "OFF")
        end
    end
end

-- ‚úÖ ENHANCED MAIN LOOP (B·ªî SUNG)
RunService.Heartbeat:Connect(function()
    -- Original functions (gi·ªØ nguy√™n)
    if CuTins.AIMBOT.ENABLED and TARGET then
        aimAtTarget()
    end
    
    -- New FPS features
    if CuTins.MOVEMENT.SPEED and LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = CuTins.MOVEMENT.SPEED_VALUE
        end
    end
    
    if CuTins.MOVEMENT.JUMP and LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.JumpPower = CuTins.MOVEMENT.JUMP_VALUE
        end
    end
    
    -- Triggerbot
    triggerBot()
    
    -- Rapid Fire
    rapidFireSystem()
    
    -- Instant Reload
    instantReload()
    
    -- ESP (gi·ªØ nguy√™n)
    if CuTins.ESP.ENABLED then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character and not ESP_ITEMS[player] then
                createESP(player)
            end
        end
    end
end)

-- ‚úÖ INPUT HANDLING (B·ªî SUNG)
UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end
    
    -- Original inputs (gi·ªØ nguy√™n)
    if input.KeyCode == Enum.KeyCode.Insert then
        CuTins.UI_OPEN = not CuTins.UI_OPEN
        SCREEN_GUI.Enabled = CuTins.UI_OPEN
    end
    
    if input.UserInputType == CuTins.AIMBOT.MOUSE_BUTTON and CuTins.AIMBOT.ENABLED then
        TARGET = getClosestPlayer()
    end
    
    if input.KeyCode == Enum.KeyCode.F then
        CuTins.FLY.ENABLED = not CuTins.FLY.ENABLED
        toggleFly()
        updateStatus()
    end
    
    -- New FPS feature: Quick weapon mod toggle
    if input.KeyCode == Enum.KeyCode.G then
        CuTins.WEAPON.NO_RECOIL = not CuTins.WEAPON.NO_RECOIL
        setupWeaponHooks()
        updateStatus()
    end
end)

-- ‚úÖ INITIALIZE HUB (GI·ªÆ NGUY√äN + B·ªî SUNG)
createHubInterface()
createWatermark()
updateStatus()
setupWeaponHooks()
updateVisuals()
toggleCrosshair()

print([[

 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
‚ñà‚ñà      ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà
‚ñà‚ñà      ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
‚ñà‚ñà      ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà     ‚ñà‚ñà
 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà     ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                                                 
            FPS ENHANCED - CuTins ¬© 2025

üéÆ CuTins Heck FPS ƒê√É ƒê∆Ø·ª¢C N√ÇNG C·∫§P!

]])

-- Keep script running
while CuTins.ACTIVE do
    wait(1)
end
