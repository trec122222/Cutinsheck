-- CuTins Heck HUB 2025 - FPS ENHANCED EDITION
-- INTEGRATED FPS GAME FEATURES

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local Lighting = game:GetService("Lighting")
local Workspace = game:GetService("Workspace")

-- FPS-OPTIMIZED CONFIGURATION
local CuTins = {
    ACTIVE = true,
    VERSION = "CuTins Heck 2025 - FPS PRO",
    UI_OPEN = true,
    MINIMIZED = false,
    
    -- FPS COMBAT MODULES
    AIMBOT = {
        ENABLED = false,
        MOUSE_BUTTON = Enum.UserInputType.MouseButton1,
        FOV = 80,
        SMOOTHING = 0.3,
        TARGET_BONE = "Head",
        TEAM_CHECK = true,
        HEADSHOT_PRIORITY = true,
        -- FPS ENHANCEMENTS
        AUTO_FIRE = false,
        FIRE_DELAY = 0.1,
        SILENT_AIM = false,
        HIT_CHANCE = 100,
        PREDICTION = true,
        PREDICTION_STRENGTH = 0.15
    },
    
    ESP = {
        ENABLED = false,
        TEAM_CHECK = true,
        BOX = true,
        NAMES = true,
        HEALTH = true,
        DISTANCE = true,
        WEAPON = true,
        -- FPS ENHANCEMENTS
        CHAMS = false,
        CHAMS_COLOR = Color3.fromRGB(255, 0, 0),
        TRACERS = false,
        TRACER_ORIGIN = "Bottom",
        SKELETON = false,
        HEALTH_BAR = true
    },
    
    HITBOX = {
        ENABLED = false,
        SIZE = 2.0,
        -- FPS ENHANCEMENTS
        DYNAMIC = false,
        AUTO_RESIZE = true,
        BODY_PART = "Head" -- Head, Torso, All
    },
    
    FLY = {
        ENABLED = false,
        SPEED = 3,
        -- FPS ENHANCEMENTS
        NOCLIP = false,
        MODE = "Normal" -- Normal, Hover, Jetpack
    },
    
    -- NEW: FPS WEAPON MODULES
    WEAPON = {
        NO_RECOIL = false,
        NO_SPREAD = false,
        RAPID_FIRE = false,
        FIRE_RATE_MULTIPLIER = 2.0,
        INSTANT_RELOAD = false,
        INFINITE_AMMO = false,
        AUTO_RELOAD = false,
        -- FPS ENHANCEMENTS
        DAMAGE_MULTIPLIER = 1.0,
        PENETRATION = false,
        SILENT_SHOT = false
    },
    
    -- NEW: FPS MOVEMENT MODULES
    MOVEMENT = {
        SPEED_HACK = false,
        SPEED_MULTIPLIER = 2.0,
        HIGH_JUMP = false,
        JUMP_POWER = 2.0,
        -- FPS ENHANCEMENTS
        BUNNY_HOP = false,
        AUTO_STRAFE = false,
        WALL_CLIMB = false,
        INFINITE_STAMINA = false,
        NO_SLOWDOWN = false
    },
    
    -- NEW: FPS VISUAL MODULES
    VISUAL = {
        FULLBRIGHT = false,
        FOV_CHANGER = false,
        FOV_VALUE = 80,
        CROSSHAIR = false,
        CROSSHAIR_SIZE = 12,
        CROSSHAIR_COLOR = Color3.fromRGB(255, 255, 255),
        -- FPS ENHANCEMENTS
        NIGHT_VISION = false,
        THERMAL_VISION = false,
        NO_FLASH = false,
        NO_SMOKE = false,
        ENEMY_GLOW = false,
        THIRD_PERSON = false,
        ZOOM = false,
        ZOOM_LEVEL = 2.0
    },
    
    -- NEW: FPS GAME MODULES
    GAME = {
        RADAR = false,
        RADAR_RANGE = 200,
        AUTO_PICKUP = false,
        AUTO_DOORS = false,
        -- FPS ENHANCEMENTS
        UNLOCK_ALL = false,
        XP_MULTIPLIER = 1.0,
        SCORE_BOOST = false,
        ANTI_KICK = false,
        LAG_SWITCH = false,
        SERVER_CRASHER = false
    },
    
    -- NEW: FPS MISC MODULES
    MISC = {
        ANTI_AFK = false,
        AUTO_FARM = false,
        -- FPS ENHANCEMENTS
        KILL_NOTIFICATIONS = true,
        KILL_SOUND = false,
        HIT_MARKER = false,
        KILL_COUNTER = false,
        PLAYER_INFO = true,
        ITEM_ESP = false,
        XRAY = false
    }
}

-- FPS VARIABLES
local TARGET = nil
local ESP_ITEMS = {}
local FLYING = false
local BODYGYRO, BODYVELOCITY = nil, nil
local SCREEN_GUI = nil
local MAIN_FRAME = nil

-- NEW: FPS-SPECIFIC VARIABLES
local CROSSHAIR_FRAME = nil
local RADAR_FRAME = nil
local KILL_COUNT = 0
local LAST_KILL_TIME = 0
local WEAPON_HOOKS = {}
local MOVEMENT_HOOKS = {}
local ZOOMING = false
local ORIGINAL_FOV = Camera.FieldOfView

-- âœ… FPS WEAPON SYSTEM
function setupWeaponHooks()
    -- Hook into weapon systems for FPS games
    local function hookTool(tool)
        if not tool:IsA("Tool") then return end
        
        -- Store original values
        WEAPON_HOOKS[tool] = {
            FireRate = tool:FindFirstChild("FireRate") and tool.FireRate.Value or nil,
            Recoil = tool:FindFirstChild("Recoil") and tool.Recoil.Value or nil,
            Spread = tool:FindFirstChild("Spread") and tool.Spread.Value or nil,
            Ammo = tool:FindFirstChild("Ammo") and tool.Ammo.Value or nil,
            MaxAmmo = tool:FindFirstChild("MaxAmmo") and tool.MaxAmmo.Value or nil
        }
        
        -- Apply modifications
        if CuTins.WEAPON.RAPID_FIRE and tool:FindFirstChild("FireRate") then
            tool.FireRate.Value = WEAPON_HOOKS[tool].FireRate / CuTins.WEAPON.FIRE_RATE_MULTIPLIER
        end
        
        if CuTins.WEAPON.NO_RECOIL and tool:FindFirstChild("Recoil") then
            tool.Recoil.Value = 0
        end
        
        if CuTins.WEAPON.NO_SPREAD and tool:FindFirstChild("Spread") then
            tool.Spread.Value = 0
        end
    end
    
    -- Hook current tools
    local character = LocalPlayer.Character
    if character then
        for _, tool in pairs(character:GetChildren()) do
            hookTool(tool)
        end
    end
    
    -- Hook future tools
    LocalPlayer.CharacterAdded:Connect(function(char)
        char.ChildAdded:Connect(function(tool)
            if tool:IsA("Tool") then
                hookTool(tool)
            end
        end)
    end)
end

function restoreWeaponHooks()
    for tool, originalValues in pairs(WEAPON_HOOKS) do
        if tool and tool.Parent then
            if originalValues.FireRate and tool:FindFirstChild("FireRate") then
                tool.FireRate.Value = originalValues.FireRate
            end
            if originalValues.Recoil and tool:FindFirstChild("Recoil") then
                tool.Recoil.Value = originalValues.Recoil
            end
            if originalValues.Spread and tool:FindFirstChild("Spread") then
                tool.Spread.Value = originalValues.Spread
            end
        end
    end
    WEAPON_HOOKS = {}
end

-- âœ… FPS MOVEMENT SYSTEM
function setupMovementHooks()
    local character = LocalPlayer.Character
    if not character then return end
    
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    
    -- Store original values
    MOVEMENT_HOOKS = {
        WalkSpeed = humanoid.WalkSpeed,
        JumpPower = humanoid.JumpPower
    }
    
    -- Apply movement modifications
    if CuTins.MOVEMENT.SPEED_HACK then
        humanoid.WalkSpeed = MOVEMENT_HOOKS.WalkSpeed * CuTins.MOVEMENT.SPEED_MULTIPLIER
    end
    
    if CuTins.MOVEMENT.HIGH_JUMP then
        humanoid.JumpPower = MOVEMENT_HOOKS.JumpPower * CuTins.MOVEMENT.JUMP_POWER
    end
    
    -- Bunny hop automation
    if CuTins.MOVEMENT.BUNNY_HOP then
        coroutine.wrap(function()
            while CuTins.MOVEMENT.BUNNY_HOP and CuTins.ACTIVE do
                if humanoid.MoveDirection.Magnitude > 0 then
                    humanoid.Jump = true
                end
                wait(0.1)
            end
        end)()
    end
end

function restoreMovementHooks()
    local character = LocalPlayer.Character
    if not character then return end
    
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    
    if MOVEMENT_HOOKS.WalkSpeed then
        humanoid.WalkSpeed = MOVEMENT_HOOKS.WalkSpeed
    end
    
    if MOVEMENT_HOOKS.JumpPower then
        humanoid.JumpPower = MOVEMENT_HOOKS.JumpPower
    end
end

-- âœ… FPS RADAR SYSTEM
function createRadar()
    if RADAR_FRAME then
        RADAR_FRAME:Destroy()
        RADAR_FRAME = nil
    end
    
    if not CuTins.GAME.RADAR then return end
    
    RADAR_FRAME = Instance.new("Frame")
    RADAR_FRAME.Name = "Radar"
    RADAR_FRAME.Size = UDim2.new(0, 200, 0, 200)
    RADAR_FRAME.Position = UDim2.new(1, -220, 1, -220)
    RADAR_FRAME.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
    RADAR_FRAME.BackgroundTransparency = 0.3
    RADAR_FRAME.BorderSizePixel = 2
    RADAR_FRAME.BorderColor3 = Color3.fromRGB(255, 255, 255)
    RADAR_FRAME.Parent = SCREEN_GUI
    
    local radarCorner = Instance.new("UICorner")
    radarCorner.CornerRadius = UDim.new(0, 8)
    radarCorner.Parent = RADAR_FRAME
    
    local radarTitle = Instance.new("TextLabel")
    radarTitle.Size = UDim2.new(1, 0, 0, 20)
    radarTitle.BackgroundTransparency = 1
    radarTitle.Text = "RADAR"
    radarTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    radarTitle.TextSize = 12
    radarTitle.Font = Enum.Font.GothamBold
    radarTitle.Parent = RADAR_FRAME
    
    return RADAR_FRAME
end

function updateRadar()
    if not RADAR_FRAME or not CuTins.GAME.RADAR then return end
    
    -- Clear previous blips
    for _, child in pairs(RADAR_FRAME:GetChildren()) do
        if child.Name == "RadarBlip" then
            child:Destroy()
        end
    end
    
    local localCharacter = LocalPlayer.Character
    if not localCharacter then return end
    
    local localRoot = localCharacter:FindFirstChild("HumanoidRootPart")
    if not localRoot then return end
    
    -- Add enemy blips
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local character = player.Character
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            
            if humanoid and humanoid.Health > 0 and rootPart then
                local distance = (rootPart.Position - localRoot.Position).Magnitude
                if distance <= CuTins.GAME.RADAR_RANGE then
                    -- Calculate radar position
                    local relativePos = localRoot.CFrame:PointToObjectSpace(rootPart.Position)
                    local radarX = (relativePos.X / CuTins.GAME.RADAR_RANGE) * 90
                    local radarY = (relativePos.Z / CuTins.GAME.RADAR_RANGE) * 90
                    
                    -- Create blip
                    local blip = Instance.new("Frame")
                    blip.Name = "RadarBlip"
                    blip.Size = UDim2.new(0, 6, 0, 6)
                    blip.Position = UDim2.new(0.5, radarX - 3, 0.5, radarY - 3)
                    blip.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
                    blip.BorderSizePixel = 0
                    blip.Parent = RADAR_FRAME
                    
                    local blipCorner = Instance.new("UICorner")
                    blipCorner.CornerRadius = UDim.new(1, 0)
                    blipCorner.Parent = blip
                end
            end
        end
    end
end

-- âœ… FPS ZOOM SYSTEM
function toggleZoom()
    if not CuTins.VISUAL.ZOOM then
        Camera.FieldOfView = ORIGINAL_FOV
        ZOOMING = false
        return
    end
    
    ZOOMING = true
    Camera.FieldOfView = ORIGINAL_FOV / CuTins.VISUAL.ZOOM_LEVEL
end

-- âœ… FPS NIGHT VISION
function toggleNightVision()
    if CuTins.VISUAL.NIGHT_VISION then
        Lighting.Ambient = Color3.fromRGB(128, 128, 255)
        Lighting.Brightness = 2
        Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 255)
    else
        Lighting.Ambient = Color3.fromRGB(1, 1, 1)
        Lighting.Brightness = 1
        Lighting.OutdoorAmbient = Color3.fromRGB(0.5, 0.5, 0.5)
    end
end

-- âœ… FPS THERMAL VISION
function toggleThermalVision()
    if CuTins.VISUAL.THERMAL_VISION then
        -- Apply thermal vision effect to players
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                for _, part in pairs(player.Character:GetChildren()) do
                    if part:IsA("BasePart") then
                        part.Color = Color3.fromRGB(255, 0, 0) -- Red for enemies
                        part.Material = Enum.Material.Neon
                    end
                end
            end
        end
    else
        -- Restore original colors
        for _, player in pairs(Players:GetPlayers()) do
            if player.Character then
                for _, part in pairs(player.Character:GetChildren()) do
                    if part:IsA("BasePart") then
                        part.Color = Color3.fromRGB(1, 1, 1)
                        part.Material = Enum.Material.Plastic
                    end
                end
            end
        end
    end
end

-- âœ… FPS KILL COUNTER & NOTIFICATIONS
function onKill(victim)
    KILL_COUNT = KILL_COUNT + 1
    LAST_KILL_TIME = tick()
    
    if CuTins.MISC.KILL_NOTIFICATIONS then
        showKillNotification(victim.Name)
    end
    
    if CuTins.MISC.KILL_SOUND then
        playKillSound()
    end
end

function showKillNotification(victimName)
    local notification = Instance.new("TextLabel")
    notification.Size = UDim2.new(0, 200, 0, 40)
    notification.Position = UDim2.new(0.5, -100, 0.1, 0)
    notification.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
    notification.Text = "ðŸ’€ ELIMINATED: " .. victimName
    notification.TextColor3 = Color3.fromRGB(255, 50, 50)
    notification.TextSize = 14
    notification.Font = Enum.Font.GothamBold
    notification.Parent = SCREEN_GUI
    
    -- Animate and remove
    coroutine.wrap(function()
        for i = 1, 50 do
            notification.Position = UDim2.new(0.5, -100, 0.1, -i/10)
            notification.BackgroundTransparency = i/50
            wait(0.02)
        end
        notification:Destroy()
    end)()
end

function playKillSound()
    -- Play kill sound effect
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://3578335185" -- Kill sound
    sound.Volume = 0.5
    sound.Parent = workspace
    sound:Play()
    game:GetService("Debris"):AddItem(sound, 2)
end

-- âœ… FPS HIT MARKER
function showHitMarker()
    if not CuTins.MISC.HIT_MARKER then return end
    
    local hitMarker = Instance.new("Frame")
    hitMarker.Name = "HitMarker"
    hitMarker.Size = UDim2.new(0, 20, 0, 20)
    hitMarker.Position = UDim2.new(0.5, -10, 0.5, -10)
    hitMarker.BackgroundTransparency = 1
    hitMarker.Parent = SCREEN_GUI
    
    -- Create cross shape
    local line1 = Instance.new("Frame")
    line1.Size = UDim2.new(0, 2, 0, 10)
    line1.Position = UDim2.new(0.5, -1, 0.5, -5)
    line1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    line1.BorderSizePixel = 0
    line1.Parent = hitMarker
    
    local line2 = Instance.new("Frame")
    line2.Size = UDim2.new(0, 10, 0, 2)
    line2.Position = UDim2.new(0.5, -5, 0.5, -1)
    line2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    line2.BorderSizePixel = 0
    line2.Parent = hitMarker
    
    -- Animate and remove
    coroutine.wrap(function()
        for i = 1, 10 do
            hitMarker.BackgroundTransparency = i/10
            wait(0.02)
        end
        hitMarker:Destroy()
    end)()
end

-- âœ… FPS ENHANCED ESP
function createFPSESP(player)
    if player == LocalPlayer then return end
    
    local character = player.Character
    if not character then return end
    
    -- Team check
    if CuTins.ESP.TEAM_CHECK then
        if player.Team and LocalPlayer.Team and player.Team == LocalPlayer.Team then
            return
        end
    end
    
    -- Remove old ESP
    if ESP_ITEMS[player] then
        for _, item in pairs(ESP_ITEMS[player]) do
            item:Destroy()
        end
    end
    
    ESP_ITEMS[player] = {}
    
    if CuTins.ESP.ENABLED then
        -- Main highlight
        local highlight = Instance.new("Highlight")
        highlight.FillColor = Color3.fromRGB(255, 50, 50)
        highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
        highlight.FillTransparency = 0.7
        highlight.Parent = character
        table.insert(ESP_ITEMS[player], highlight)
        
        -- Health bar
        if CuTins.ESP.HEALTH_BAR then
            createHealthBar(player, character)
        end
        
        -- Weapon display
        if CuTins.ESP.WEAPON then
            createWeaponDisplay(player, character)
        end
    end
    
    -- Chams
    if CuTins.ESP.CHAMS then
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") then
                part.Material = Enum.Material.ForceField
                part.Color = CuTins.ESP.CHAMS_COLOR
            end
        end
    end
end

function createHealthBar(player, character)
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    
    local head = character:FindFirstChild("Head")
    if not head then return end
    
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "HealthBar"
    billboard.Size = UDim2.new(0, 50, 0, 6)
    billboard.StudsOffset = Vector3.new(0, 2.5, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = head
    
    local background = Instance.new("Frame")
    background.Size = UDim2.new(1, 0, 1, 0)
    background.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    background.BorderSizePixel = 0
    background.Parent = billboard
    
    local healthBar = Instance.new("Frame")
    healthBar.Size = UDim2.new(humanoid.Health / humanoid.MaxHealth, 0, 1, 0)
    healthBar.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    healthBar.BorderSizePixel = 0
    healthBar.Parent = billboard
    
    table.insert(ESP_ITEMS[player], billboard)
    
    -- Update health bar
    humanoid.HealthChanged:Connect(function()
        healthBar.Size = UDim2.new(humanoid.Health / humanoid.MaxHealth, 0, 1, 0)
        healthBar.BackgroundColor3 = Color3.fromRGB(
            255 - (humanoid.Health / humanoid.MaxHealth) * 255,
            (humanoid.Health / humanoid.MaxHealth) * 255,
            0
        )
    end)
end

function createWeaponDisplay(player, character)
    local tool = character:FindFirstChildOfClass("Tool")
    if not tool then return end
    
    local head = character:FindFirstChild("Head")
    if not head then return end
    
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "WeaponDisplay"
    billboard.Size = UDim2.new(0, 100, 0, 20)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = head
    
    local weaponLabel = Instance.new("TextLabel")
    weaponLabel.Size = UDim2.new(1, 0, 1, 0)
    weaponLabel.BackgroundTransparency = 1
    weaponLabel.Text = "ðŸ”« " .. tool.Name
    weaponLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    weaponLabel.TextSize = 12
    weaponLabel.Font = Enum.Font.GothamBold
    weaponLabel.Parent = billboard
    
    table.insert(ESP_ITEMS[player], billboard)
end

-- âœ… FPS ENHANCED AIMBOT
function getFPSClosestPlayer()
    if not CuTins.AIMBOT.ENABLED then return nil end
    
    local closest = nil
    local closestDist = CuTins.AIMBOT.FOV
    local viewportCenter = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
    
    for _, player in pairs(Players:GetPlayers()) do
        if player == LocalPlayer then continue end
        
        local character = player.Character
        if not character then continue end
        
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        local head = character:FindFirstChild("Head")
        local rootPart = character:FindFirstChild("HumanoidRootPart")
        
        if not humanoid or not head or not rootPart then continue end
        if humanoid.Health <= 0 then continue end
        
        -- Team check
        if CuTins.AIMBOT.TEAM_CHECK then
            if player.Team and LocalPlayer.Team and player.Team == LocalPlayer.Team then
                continue
            end
        end
        
        local screenPos, onScreen = Camera:WorldToViewportPoint(head.Position)
        if onScreen then
            local distance = (Vector2.new(screenPos.X, screenPos.Y) - viewportCenter).Magnitude
            
            if distance < closestDist then
                -- Headshot priority
                if CuTins.AIMBOT.HEADSHOT_PRIORITY then
                    local headScreenPos = Camera:WorldToViewportPoint(head.Position)
                    local headDistance = (Vector2.new(headScreenPos.X, headScreenPos.Y) - viewportCenter).Magnitude
                    
                    if headDistance < closestDist then
                        closestDist = headDistance
                        closest = player
                    end
                else
                    closestDist = distance
                    closest = player
                end
            end
        end
    end
    
    return closest
end

function FPSAimAtTarget()
    if not TARGET or not TARGET.Character then return end
    
    local character = TARGET.Character
    local targetBone = character:FindFirstChild(CuTins.AIMBOT.TARGET_BONE)
    if not targetBone then
        targetBone = character:FindFirstChild("HumanoidRootPart")
        if not targetBone then return end
    end
    
    local currentCF = Camera.CFrame
    local targetPos = targetBone.Position
    
    -- Prediction for moving targets
    if CuTins.AIMBOT.PREDICTION then
        local rootPart = character:FindFirstChild("HumanoidRootPart")
        if rootPart then
            local distance = (targetPos - currentCF.Position).Magnitude
            local travelTime = distance / 1000 -- Adjust based on bullet speed
            targetPos = targetPos + (rootPart.Velocity * travelTime * CuTins.AIMBOT.PREDICTION_STRENGTH)
        end
    end
    
    local direction = (targetPos - currentCF.Position).Unit
    local smoothDirection = currentCF.LookVector:Lerp(direction, CuTins.AIMBOT.SMOOTHING)
    Camera.CFrame = CFrame.new(currentCF.Position, currentCF.Position + smoothDirection)
end

-- âœ… FPS ENHANCED MAIN LOOP
RunService.RenderStepped:Connect(function()
    -- Enhanced Aimbot
    if CuTins.AIMBOT.ENABLED and TARGET then
        FPSAimAtTarget()
    end
    
    -- Auto Fire
    if CuTins.AIMBOT.AUTO_FIRE and CuTins.AIMBOT.ENABLED then
        if TARGET and tick() - LAST_SHOT > CuTins.AIMBOT.FIRE_DELAY then
            -- Simulate firing
            LAST_SHOT = tick()
        end
    end
    
    -- Update Radar
    if CuTins.GAME.RADAR then
        updateRadar()
    end
    
    -- Update ESP
    if CuTins.ESP.ENABLED then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character and not ESP_ITEMS[player] then
                createFPSESP(player)
            end
        end
    end
end)

-- âœ… FPS INPUT HANDLING
UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end
    
    -- Toggle UI
    if input.KeyCode == Enum.KeyCode.Insert then
        CuTins.UI_OPEN = not CuTins.UI_OPEN
        if SCREEN_GUI then
            SCREEN_GUI.Enabled = CuTins.UI_OPEN
        end
    end
    
    -- Aimbot
    if input.UserInputType == CuTins.AIMBOT.MOUSE_BUTTON and CuTins.AIMBOT.ENABLED then
        TARGET = getFPSClosestPlayer()
    end
    
    -- Fly
    if input.KeyCode == Enum.KeyCode.F then
        CuTins.FLY.ENABLED = not CuTins.FLY.ENABLED
        toggleFly()
    end
    
    -- Zoom
    if input.KeyCode == Enum.KeyCode.Z then
        CuTins.VISUAL.ZOOM = not CuTins.VISUAL.ZOOM
        toggleZoom()
    end
    
    -- Night Vision
    if input.KeyCode == Enum.KeyCode.N then
        CuTins.VISUAL.NIGHT_VISION = not CuTins.VISUAL.NIGHT_VISION
        toggleNightVision()
    end
    
    -- Radar
    if input.KeyCode == Enum.KeyCode.R then
        CuTins.GAME.RADAR = not CuTins.GAME.RADAR
        createRadar()
    end
end)

-- âœ… FPS INITIALIZATION
setupWeaponHooks()
setupMovementHooks()
createRadar()
toggleNightVision()
toggleZoom()

print([[

 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–ˆ      â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ
â–ˆâ–ˆ      â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–ˆ      â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ       â–ˆâ–ˆ
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
                                                 
        Heck 2025 - FPS PRO EDITION

]])

-- Keep script running
while CuTins.ACTIVE do
    wait(1)
end
